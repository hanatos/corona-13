float pred_x;
float pred_y;
float pred_dx;
float pred_dy;
float sqr_err = FLT_MAX;
for(int k=0;k<5&&sqr_err > 1e-4f;k++)
{
  const float begin_x = x + dist * dx;
  const float begin_y = y + dist * dy;
  const float begin_dx = dx;
  const float begin_dy = dy;
  __attribute__((unused)) const float begin_lambda = lambda;
  pred_x =  + -7.59428e-05  + 1.85033e-05 *begin_dy + 84.6305 *begin_dx + 0.747087 *begin_x + 0.00352954 *lens_ipow(begin_dx, 2) + -1.33622e-05 *begin_y*begin_lambda + 0.000150834 *begin_y*begin_dy + 5.0693e-05 *begin_x*begin_dy + 0.0196686 *lens_ipow(begin_dy, 2)*begin_lambda + 46.1915 *begin_dx*lens_ipow(begin_dy, 2) + 46.1921 *lens_ipow(begin_dx, 3) + 1.53717 *begin_y*begin_dx*begin_dy + 0.00976078 *lens_ipow(begin_y, 2)*begin_dx + 1.0533 *begin_x*lens_ipow(begin_dy, 2) + 2.60023 *begin_x*lens_ipow(begin_dx, 2) + 0.0246052 *begin_x*begin_y*begin_dy + 0.000119221 *begin_x*lens_ipow(begin_y, 2) + 0.0347923 *lens_ipow(begin_x, 2)*begin_dx + 0.000121546 *lens_ipow(begin_x, 3) + 3.61538 *begin_dx*lens_ipow(begin_lambda, 3) + 0.0690261 *begin_x*lens_ipow(begin_lambda, 4) + -1.73912e-06 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 2)*begin_dx + -0.00224725 *lens_ipow(begin_y, 3)*lens_ipow(begin_dx, 3)*begin_dy + 6.22609 *begin_x*lens_ipow(begin_dx, 4)*lens_ipow(begin_dy, 2) + 1.04057e-07 *begin_x*lens_ipow(begin_y, 4)*lens_ipow(begin_dy, 2) + 3.13269e-07 *begin_x*lens_ipow(begin_y, 4)*lens_ipow(begin_dx, 2) + 0.143213 *lens_ipow(begin_x, 2)*begin_dx*lens_ipow(begin_dy, 4) + -0.00388815 *lens_ipow(begin_x, 2)*begin_y*lens_ipow(begin_dx, 3)*begin_dy + -0.00211337 *lens_ipow(begin_x, 3)*lens_ipow(begin_dx, 4) + 3.21586e-07 *lens_ipow(begin_x, 5)*lens_ipow(begin_dy, 2) + -8.59498e-09 *lens_ipow(begin_x, 6)*begin_dx + -0.0764266 *begin_x*lens_ipow(begin_dy, 2)*lens_ipow(begin_lambda, 5) + -0.497948 *lens_ipow(begin_y, 2)*lens_ipow(begin_dx, 7) + -1.09575e-08 *lens_ipow(begin_x, 3)*lens_ipow(begin_y, 3)*begin_dy*lens_ipow(begin_lambda, 2) + -2.54639e-13 *lens_ipow(begin_x, 5)*lens_ipow(begin_y, 4) + -19.3704 *begin_dx*lens_ipow(begin_lambda, 10) + -134355 *lens_ipow(begin_dx, 5)*lens_ipow(begin_dy, 6) + -19051.8 *lens_ipow(begin_dx, 11) + -0.33329 *begin_x*lens_ipow(begin_lambda, 10) + -4.57375e-16 *lens_ipow(begin_x, 11);
  pred_y =  + 6.12477e-05  + 84.7872 *begin_dy + 0.746666 *begin_y + -2.20108e-06 *begin_x + 0.00186409 *lens_ipow(begin_dy, 2) + 0.0104643 *begin_dx*begin_dy + 0.000107669 *begin_y*begin_dx + -5.52229e-07 *lens_ipow(begin_y, 2) + 45.764 *lens_ipow(begin_dy, 3) + 45.4497 *lens_ipow(begin_dx, 2)*begin_dy + 2.57977 *begin_y*lens_ipow(begin_dy, 2) + 1.03579 *begin_y*lens_ipow(begin_dx, 2) + 0.0333983 *lens_ipow(begin_y, 2)*begin_dy + 9.77994e-05 *lens_ipow(begin_y, 3) + 1.51862 *begin_x*begin_dx*begin_dy + -0.000320125 *begin_x*lens_ipow(begin_dx, 2) + 1.75895e-05 *begin_x*begin_y*begin_dy + 0.0242141 *begin_x*begin_y*begin_dx + 2.68061e-07 *begin_x*lens_ipow(begin_y, 2) + 0.00964075 *lens_ipow(begin_x, 2)*begin_dy + 0.000118704 *lens_ipow(begin_x, 2)*begin_y + 0.0397129 *begin_y*lens_ipow(begin_lambda, 3) + 4.46737e-05 *lens_ipow(begin_y, 3)*begin_lambda + 5.08034 *begin_dy*lens_ipow(begin_lambda, 4) + 0.00325202 *lens_ipow(begin_y, 2)*begin_dy*lens_ipow(begin_lambda, 2) + -0.000194699 *begin_x*lens_ipow(begin_y, 2)*begin_dx*begin_dy + 0.102767 *lens_ipow(begin_y, 2)*lens_ipow(begin_dy, 5) + 3.35509e-07 *lens_ipow(begin_y, 5)*lens_ipow(begin_dx, 2) + -1.94021e-09 *lens_ipow(begin_y, 6)*begin_dy + 0.000140704 *lens_ipow(begin_x, 2)*begin_y*lens_ipow(begin_dy, 2)*lens_ipow(begin_lambda, 2) + -5.82207e-09 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 4)*begin_dy + 0.0632117 *lens_ipow(begin_y, 2)*lens_ipow(begin_dx, 2)*lens_ipow(begin_dy, 3)*begin_lambda + -4.91574e-05 *lens_ipow(begin_y, 3)*lens_ipow(begin_lambda, 5) + 1.30268e-05 *lens_ipow(begin_x, 4)*lens_ipow(begin_dy, 5) + -23.5022 *begin_dy*lens_ipow(begin_lambda, 10) + -38.8282 *lens_ipow(begin_dy, 5)*lens_ipow(begin_lambda, 6) + -21026.4 *lens_ipow(begin_dy, 11) + -0.208208 *begin_y*lens_ipow(begin_lambda, 10) + -0.0128821 *lens_ipow(begin_y, 2)*begin_dy*lens_ipow(begin_lambda, 8) + -4.79269e-13 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 7)*lens_ipow(begin_lambda, 2);
  pred_dx =  + -1.01853e-05  + -0.000101673 *begin_dy + 1.61554 *begin_dx + -1.28695e-06 *begin_y + 0.00234223 *begin_x + -0.000263927 *lens_ipow(begin_dx, 2) + 9.7763e-06 *begin_x*begin_dy + -7.70532e-08 *begin_x*begin_y + 6.01015 *begin_dx*lens_ipow(begin_dy, 2) + 5.91073 *lens_ipow(begin_dx, 3) + 0.114401 *begin_y*begin_dx*begin_dy + 1.53991e-07 *lens_ipow(begin_y, 2)*begin_lambda + 0.000685094 *lens_ipow(begin_y, 2)*begin_dx + 0.0619327 *begin_x*lens_ipow(begin_dy, 2) + 0.176116 *begin_x*lens_ipow(begin_dx, 2) + 0.00136958 *begin_x*begin_y*begin_dy + 7.91819e-06 *begin_x*lens_ipow(begin_y, 2) + 6.3299e-07 *lens_ipow(begin_x, 2)*begin_dy + 0.00206032 *lens_ipow(begin_x, 2)*begin_dx + 7.90609e-06 *lens_ipow(begin_x, 3) + -0.371705 *begin_dx*lens_ipow(begin_lambda, 3) + -2.24639e-06 *begin_x*begin_y*begin_dx*begin_lambda + 5.25298e-06 *lens_ipow(begin_x, 2)*lens_ipow(begin_dy, 2) + 8.13322e-06 *lens_ipow(begin_x, 2)*begin_dx*begin_dy + 1.12403 *begin_dx*lens_ipow(begin_dy, 4) + 2.03708 *lens_ipow(begin_dx, 3)*lens_ipow(begin_dy, 2) + 2.39623 *lens_ipow(begin_dx, 5) + 0.000194376 *lens_ipow(begin_y, 2)*lens_ipow(begin_dx, 3) + -0.00388383 *begin_x*lens_ipow(begin_lambda, 4) + -4.06258e-08 *begin_x*lens_ipow(begin_y, 3)*begin_dx*begin_dy + -0.3833 *begin_dx*lens_ipow(begin_dy, 2)*lens_ipow(begin_lambda, 4) + -0.0148125 *begin_y*lens_ipow(begin_dx, 6) + -8.02669e-08 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 2)*begin_dx*lens_ipow(begin_lambda, 2) + -10.0134 *lens_ipow(begin_dx, 5)*lens_ipow(begin_lambda, 4) + 0.0332329 *lens_ipow(begin_y, 2)*lens_ipow(begin_dx, 3)*lens_ipow(begin_dy, 4) + 3.74882e-05 *lens_ipow(begin_x, 2)*begin_y*lens_ipow(begin_dx, 5)*begin_dy + -4.33768e-10 *lens_ipow(begin_x, 6)*begin_dx*lens_ipow(begin_lambda, 2) + 2.05805 *begin_dx*lens_ipow(begin_lambda, 10) + 0.0194614 *begin_x*lens_ipow(begin_lambda, 10) + -8.22816e-05 *lens_ipow(begin_x, 3)*lens_ipow(begin_dx, 2)*lens_ipow(begin_lambda, 6);
  pred_dy =  + -1.69957e-06  + 1.61351 *begin_dy + -5.74518e-05 *begin_dx + 0.00229889 *begin_y + -8.1798e-07 *begin_x + 9.88781e-06 *begin_x*begin_dy + 7.47659e-08 *begin_x*begin_y + 6.10845 *lens_ipow(begin_dy, 3) + 6.01428 *lens_ipow(begin_dx, 2)*begin_dy + 0.177488 *begin_y*lens_ipow(begin_dy, 2) + 0.0617436 *begin_y*lens_ipow(begin_dx, 2) + 0.00207274 *lens_ipow(begin_y, 2)*begin_dy + 7.94144e-06 *lens_ipow(begin_y, 3) + 0.11402 *begin_x*begin_dx*begin_dy + -6.23818e-07 *begin_x*begin_y*begin_dy + 0.00136732 *begin_x*begin_y*begin_dx + 0.000691459 *lens_ipow(begin_x, 2)*begin_dy + 7.91198e-06 *lens_ipow(begin_x, 2)*begin_y + -0.373649 *begin_dy*lens_ipow(begin_lambda, 3) + -0.0123546 *begin_dx*lens_ipow(begin_dy, 3) + -0.000182479 *begin_x*begin_dx*lens_ipow(begin_dy, 2) + 0.000880163 *lens_ipow(begin_y, 2)*lens_ipow(begin_dx, 2)*begin_dy + 2.19076e-05 *lens_ipow(begin_x, 2)*begin_dx*lens_ipow(begin_dy, 2) + -1.46776e-07 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 2)*begin_dy + -0.00666373 *begin_y*lens_ipow(begin_lambda, 5) + -0.423826 *lens_ipow(begin_dx, 2)*begin_dy*lens_ipow(begin_lambda, 4) + 10.1856 *lens_ipow(begin_dx, 6)*begin_dy + 2.09388e-08 *lens_ipow(begin_y, 5)*lens_ipow(begin_dx, 2) + 0.00504647 *lens_ipow(begin_x, 2)*lens_ipow(begin_dy, 5) + -3.64218e-12 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 5) + 4.63327e-09 *lens_ipow(begin_x, 4)*begin_y*lens_ipow(begin_dx, 2) + -2.57684e-10 *lens_ipow(begin_y, 6)*begin_dy*begin_lambda + -11.7426 *lens_ipow(begin_dy, 5)*lens_ipow(begin_lambda, 4) + 246.5 *lens_ipow(begin_dx, 4)*lens_ipow(begin_dy, 5) + -2.31679 *begin_y*lens_ipow(begin_dy, 8) + 2.12372 *begin_x*begin_dx*lens_ipow(begin_dy, 7) + -1.22922e-07 *lens_ipow(begin_x, 5)*begin_dx*lens_ipow(begin_dy, 3) + 2.07253 *begin_dy*lens_ipow(begin_lambda, 10) + 0.0277972 *begin_y*lens_ipow(begin_lambda, 10) + 0.00527134 *lens_ipow(begin_y, 2)*lens_ipow(begin_dy, 3)*lens_ipow(begin_lambda, 6);
  float dx1_domega0[2][2];
  dx1_domega0[0][0] =  + 84.6305  + 0.00705907 *begin_dx + 46.1915 *lens_ipow(begin_dy, 2) + 138.576 *lens_ipow(begin_dx, 2) + 1.53717 *begin_y*begin_dy + 0.00976078 *lens_ipow(begin_y, 2) + 5.20046 *begin_x*begin_dx + 0.0347923 *lens_ipow(begin_x, 2) + 3.61538 *lens_ipow(begin_lambda, 3) + -1.73912e-06 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 2) + -0.00674175 *lens_ipow(begin_y, 3)*lens_ipow(begin_dx, 2)*begin_dy + 24.9043 *begin_x*lens_ipow(begin_dx, 3)*lens_ipow(begin_dy, 2) + 6.26538e-07 *begin_x*lens_ipow(begin_y, 4)*begin_dx + 0.143213 *lens_ipow(begin_x, 2)*lens_ipow(begin_dy, 4) + -0.0116644 *lens_ipow(begin_x, 2)*begin_y*lens_ipow(begin_dx, 2)*begin_dy + -0.00845349 *lens_ipow(begin_x, 3)*lens_ipow(begin_dx, 3) + -8.59498e-09 *lens_ipow(begin_x, 6) + -3.48564 *lens_ipow(begin_y, 2)*lens_ipow(begin_dx, 6) + -19.3704 *lens_ipow(begin_lambda, 10) + -671774 *lens_ipow(begin_dx, 4)*lens_ipow(begin_dy, 6) + -209570 *lens_ipow(begin_dx, 10)+0.0f;
  dx1_domega0[0][1] =  + 1.85033e-05  + 0.000150834 *begin_y + 5.0693e-05 *begin_x + 0.0393372 *begin_dy*begin_lambda + 92.383 *begin_dx*begin_dy + 1.53717 *begin_y*begin_dx + 2.10661 *begin_x*begin_dy + 0.0246052 *begin_x*begin_y + -0.00224725 *lens_ipow(begin_y, 3)*lens_ipow(begin_dx, 3) + 12.4522 *begin_x*lens_ipow(begin_dx, 4)*begin_dy + 2.08113e-07 *begin_x*lens_ipow(begin_y, 4)*begin_dy + 0.572851 *lens_ipow(begin_x, 2)*begin_dx*lens_ipow(begin_dy, 3) + -0.00388815 *lens_ipow(begin_x, 2)*begin_y*lens_ipow(begin_dx, 3) + 6.43172e-07 *lens_ipow(begin_x, 5)*begin_dy + -0.152853 *begin_x*begin_dy*lens_ipow(begin_lambda, 5) + -1.09575e-08 *lens_ipow(begin_x, 3)*lens_ipow(begin_y, 3)*lens_ipow(begin_lambda, 2) + -806128 *lens_ipow(begin_dx, 5)*lens_ipow(begin_dy, 5)+0.0f;
  dx1_domega0[1][0] =  + 0.0104643 *begin_dy + 0.000107669 *begin_y + 90.8995 *begin_dx*begin_dy + 2.07157 *begin_y*begin_dx + 1.51862 *begin_x*begin_dy + -0.00064025 *begin_x*begin_dx + 0.0242141 *begin_x*begin_y + -0.000194699 *begin_x*lens_ipow(begin_y, 2)*begin_dy + 6.71019e-07 *lens_ipow(begin_y, 5)*begin_dx + 0.126423 *lens_ipow(begin_y, 2)*begin_dx*lens_ipow(begin_dy, 3)*begin_lambda+0.0f;
  dx1_domega0[1][1] =  + 84.7872  + 0.00372818 *begin_dy + 0.0104643 *begin_dx + 137.292 *lens_ipow(begin_dy, 2) + 45.4497 *lens_ipow(begin_dx, 2) + 5.15954 *begin_y*begin_dy + 0.0333983 *lens_ipow(begin_y, 2) + 1.51862 *begin_x*begin_dx + 1.75895e-05 *begin_x*begin_y + 0.00964075 *lens_ipow(begin_x, 2) + 5.08034 *lens_ipow(begin_lambda, 4) + 0.00325202 *lens_ipow(begin_y, 2)*lens_ipow(begin_lambda, 2) + -0.000194699 *begin_x*lens_ipow(begin_y, 2)*begin_dx + 0.513833 *lens_ipow(begin_y, 2)*lens_ipow(begin_dy, 4) + -1.94021e-09 *lens_ipow(begin_y, 6) + 0.000281407 *lens_ipow(begin_x, 2)*begin_y*begin_dy*lens_ipow(begin_lambda, 2) + -5.82207e-09 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 4) + 0.189635 *lens_ipow(begin_y, 2)*lens_ipow(begin_dx, 2)*lens_ipow(begin_dy, 2)*begin_lambda + 6.51342e-05 *lens_ipow(begin_x, 4)*lens_ipow(begin_dy, 4) + -23.5022 *lens_ipow(begin_lambda, 10) + -194.141 *lens_ipow(begin_dy, 4)*lens_ipow(begin_lambda, 6) + -231291 *lens_ipow(begin_dy, 10) + -0.0128821 *lens_ipow(begin_y, 2)*lens_ipow(begin_lambda, 8)+0.0f;
  float invJ[2][2];
  const float invdet = 1.0f/(dx1_domega0[0][0]*dx1_domega0[1][1] - dx1_domega0[0][1]*dx1_domega0[1][0]);
  invJ[0][0] =  dx1_domega0[1][1]*invdet;
  invJ[1][1] =  dx1_domega0[0][0]*invdet;
  invJ[0][1] = -dx1_domega0[0][1]*invdet;
  invJ[1][0] = -dx1_domega0[1][0]*invdet;
  const float dx1[2] = {out_x - pred_x, out_y - pred_y};
  for(int i=0;i<2;i++)
  {
    dx += invJ[0][i]*dx1[i];
    dy += invJ[1][i]*dx1[i];
  }
  sqr_err = dx1[0]*dx1[0] + dx1[1]*dx1[1];
}
out_dx = pred_dx;
out_dy = pred_dy;
