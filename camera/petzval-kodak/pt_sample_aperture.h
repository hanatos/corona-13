float pred_x;
float pred_y;
float pred_dx;
float pred_dy;
float sqr_err = FLT_MAX;
for(int k=0;k<5&&sqr_err > 1e-4f;k++)
{
  const float begin_x = x + dist * dx;
  const float begin_y = y + dist * dy;
  const float begin_dx = dx;
  const float begin_dy = dy;
  __attribute__((unused)) const float begin_lambda = lambda;
  pred_x =  + -3.01226e-05  + 38.4416 *begin_dx + -2.02691e-06 *begin_y + 0.791503 *begin_x + 7.25389e-07 *lens_ipow(begin_y, 2) + 4.75406e-05 *begin_x*begin_dy + -5.8981e-05 *begin_x*begin_dx + 1.35813 *begin_dx*lens_ipow(begin_dy, 2) + 1.28664 *lens_ipow(begin_dx, 3) + 0.563583 *begin_y*begin_dx*begin_dy + 0.0113888 *lens_ipow(begin_y, 2)*begin_dx + 0.13711 *begin_x*lens_ipow(begin_dy, 2) + 0.719175 *begin_x*lens_ipow(begin_dx, 2) + 0.015894 *begin_x*begin_y*begin_dy + 0.000217427 *begin_x*lens_ipow(begin_y, 2) + 0.0281401 *lens_ipow(begin_x, 2)*begin_dx + 0.000224055 *lens_ipow(begin_x, 3) + 0.275952 *begin_dx*lens_ipow(begin_lambda, 3) + 0.000681354 *begin_x*begin_y*begin_dy*begin_lambda + -4.52221e-05 *lens_ipow(begin_x, 2)*lens_ipow(begin_dy, 2) + 0.000594231 *lens_ipow(begin_x, 2)*begin_dx*lens_ipow(begin_lambda, 2) + 0.00336257 *lens_ipow(begin_x, 2)*lens_ipow(begin_dx, 3) + 7.61974e-06 *lens_ipow(begin_x, 3)*begin_y*begin_dy + 0.000122382 *begin_x*lens_ipow(begin_y, 2)*lens_ipow(begin_dx, 2)*begin_lambda + 0.000243215 *lens_ipow(begin_x, 3)*lens_ipow(begin_dy, 2)*begin_lambda + 2.57239e-09 *lens_ipow(begin_y, 6)*begin_dx + 2.08992e-05 *begin_x*lens_ipow(begin_y, 3)*lens_ipow(begin_dy, 3) + -0.00231977 *lens_ipow(begin_x, 2)*begin_y*lens_ipow(begin_dx, 3)*begin_dy + 0.0443817 *begin_x*lens_ipow(begin_dy, 4)*lens_ipow(begin_lambda, 3) + -0.0506243 *begin_x*lens_ipow(begin_dx, 2)*lens_ipow(begin_dy, 2)*lens_ipow(begin_lambda, 3) + 4.32588e-06 *begin_x*lens_ipow(begin_y, 2)*lens_ipow(begin_lambda, 5) + -221.036 *begin_dx*lens_ipow(begin_dy, 8) + -1772.59 *lens_ipow(begin_dx, 5)*lens_ipow(begin_dy, 4) + -1.46492e-05 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 3)*begin_dx*lens_ipow(begin_dy, 3) + 0.009873 *lens_ipow(begin_x, 3)*lens_ipow(begin_dy, 6) + -5.72314e-13 *lens_ipow(begin_x, 9) + -1.57966 *begin_dx*lens_ipow(begin_lambda, 10) + -387.177 *lens_ipow(begin_dx, 9)*lens_ipow(begin_lambda, 2) + -5142.91 *lens_ipow(begin_dx, 9)*lens_ipow(begin_dy, 2) + -1.58352e-14 *lens_ipow(begin_x, 7)*lens_ipow(begin_y, 4);
  pred_y =  + 0.000132619  + 38.544 *begin_dy + 2.44934e-05 *begin_dx + 0.795684 *begin_y + 0.00699888 *begin_dx*begin_dy + -2.3014e-06 *lens_ipow(begin_y, 2) + 0.243615 *begin_dy*lens_ipow(begin_lambda, 2) + -3.56032 *lens_ipow(begin_dy, 3) + -0.0617397 *lens_ipow(begin_dx, 2)*begin_dy + 0.10059 *begin_y*lens_ipow(begin_dx, 2) + 0.000115116 *lens_ipow(begin_y, 3) + 0.479762 *begin_x*begin_dx*begin_dy + 0.0144367 *begin_x*begin_y*begin_dx + 0.00972712 *lens_ipow(begin_x, 2)*begin_dy + 0.000167253 *lens_ipow(begin_x, 2)*begin_y + 0.0389313 *lens_ipow(begin_y, 2)*begin_dy*begin_lambda + 0.00430198 *begin_x*lens_ipow(begin_dy, 3) + 1.54531 *begin_y*lens_ipow(begin_dy, 2)*lens_ipow(begin_lambda, 2) + -0.00250405 *begin_x*begin_y*begin_dx*lens_ipow(begin_lambda, 2) + 2.57694e-06 *lens_ipow(begin_x, 4)*begin_dy + 0.000498776 *lens_ipow(begin_x, 2)*begin_y*lens_ipow(begin_dy, 2)*begin_lambda + -46.8044 *lens_ipow(begin_dx, 6)*begin_dy + -0.0351339 *begin_y*lens_ipow(begin_lambda, 6) + 0.000231869 *begin_x*lens_ipow(begin_y, 3)*begin_dx*lens_ipow(begin_dy, 2) + -0.0161661 *lens_ipow(begin_x, 2)*lens_ipow(begin_dy, 5) + 16.3266 *lens_ipow(begin_dy, 5)*lens_ipow(begin_lambda, 3) + 0.000552429 *lens_ipow(begin_y, 3)*lens_ipow(begin_lambda, 5) + 1.91314e-06 *lens_ipow(begin_y, 5)*lens_ipow(begin_dx, 2)*begin_lambda + -247.046 *lens_ipow(begin_dy, 9) + -341.308 *lens_ipow(begin_dx, 2)*lens_ipow(begin_dy, 5)*lens_ipow(begin_lambda, 2) + 7.62947e-08 *lens_ipow(begin_y, 6)*lens_ipow(begin_dy, 3) + -0.051547 *begin_x*lens_ipow(begin_y, 2)*lens_ipow(begin_dx, 5)*begin_dy + -2.74222e-07 *lens_ipow(begin_x, 4)*begin_y*lens_ipow(begin_lambda, 5) + -7.5019 *begin_dy*lens_ipow(begin_lambda, 10) + 130.224 *lens_ipow(begin_dy, 3)*lens_ipow(begin_lambda, 8) + -26920.9 *lens_ipow(begin_dx, 6)*lens_ipow(begin_dy, 5) + -0.495454 *begin_y*lens_ipow(begin_dx, 2)*lens_ipow(begin_lambda, 8) + 0.000109065 *lens_ipow(begin_y, 5)*lens_ipow(begin_dx, 6) + 0.163349 *begin_x*lens_ipow(begin_y, 2)*begin_dx*lens_ipow(begin_dy, 7) + 0.566356 *lens_ipow(begin_x, 2)*lens_ipow(begin_dy, 5)*lens_ipow(begin_lambda, 4);
  pred_dx =  + 2.17299e-07  + 0.580228 *begin_dx + -1.99656e-07 *begin_y + -0.0140496 *begin_x + -3.49032e-06 *begin_y*begin_dx + -4.16322e-07 *begin_x*begin_dy + -0.173864 *begin_dx*lens_ipow(begin_dy, 2) + -0.177509 *lens_ipow(begin_dx, 3) + 0.0180977 *begin_y*begin_dx*begin_dy + 0.000472235 *lens_ipow(begin_y, 2)*begin_dx + 0.00724592 *begin_x*lens_ipow(begin_dy, 2) + 0.0257337 *begin_x*lens_ipow(begin_dx, 2) + 0.0010468 *begin_x*begin_y*begin_dy + -2.56237e-07 *begin_x*begin_y*begin_dx + 1.4782e-05 *begin_x*lens_ipow(begin_y, 2) + 0.00152664 *lens_ipow(begin_x, 2)*begin_dx + 1.47653e-05 *lens_ipow(begin_x, 3) + 9.26828e-05 *begin_y*begin_dx*lens_ipow(begin_dy, 2) + -0.00204189 *begin_dx*lens_ipow(begin_lambda, 4) + 0.00887733 *begin_y*lens_ipow(begin_dx, 3)*begin_dy + 5.64304e-06 *lens_ipow(begin_x, 3)*lens_ipow(begin_dy, 2) + -1.38056 *begin_dx*lens_ipow(begin_dy, 6) + 2.37229e-10 *lens_ipow(begin_y, 6)*begin_dx + 0.260473 *begin_x*lens_ipow(begin_dx, 2)*lens_ipow(begin_dy, 4) + -2.83022e-08 *begin_x*lens_ipow(begin_y, 4)*lens_ipow(begin_dy, 2) + 1.04741e-05 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 2)*begin_dx*lens_ipow(begin_dy, 2) + 8.7731e-06 *lens_ipow(begin_x, 3)*begin_y*lens_ipow(begin_dx, 2)*begin_dy + 5.34555e-11 *lens_ipow(begin_x, 3)*lens_ipow(begin_y, 4) + 8.3369e-09 *lens_ipow(begin_x, 6)*lens_ipow(begin_dx, 3) + 1.16583e-13 *lens_ipow(begin_x, 7)*lens_ipow(begin_y, 2) + -0.768699 *begin_dx*lens_ipow(begin_dy, 4)*lens_ipow(begin_lambda, 5) + -138.801 *lens_ipow(begin_dx, 7)*lens_ipow(begin_dy, 2)*begin_lambda + -6.18985e-07 *lens_ipow(begin_x, 4)*lens_ipow(begin_dx, 5)*begin_dy + -556.15 *lens_ipow(begin_dx, 5)*lens_ipow(begin_dy, 6) + -91.3807 *lens_ipow(begin_dx, 11) + -0.00103177 *begin_x*lens_ipow(begin_y, 2)*lens_ipow(begin_dx, 8) + 6.53247e-17 *begin_x*lens_ipow(begin_y, 10) + -3.54351e-05 *lens_ipow(begin_x, 3)*lens_ipow(begin_dy, 2)*lens_ipow(begin_lambda, 6) + 8.53423e-10 *lens_ipow(begin_x, 7)*lens_ipow(begin_dy, 4) + 1.40423e-16 *lens_ipow(begin_x, 11);
  pred_dy =  + 6.28169e-07  + 0.580578 *begin_dy + -1.2364e-06 *begin_dx + -0.0140406 *begin_y + 7.00313e-05 *lens_ipow(begin_dy, 2) + -3.12399e-06 *begin_y*begin_dx + 1.54229e-06 *begin_x*begin_dy + -0.172966 *lens_ipow(begin_dy, 3) + -0.18541 *lens_ipow(begin_dx, 2)*begin_dy + 0.0257839 *begin_y*lens_ipow(begin_dy, 2) + 0.00746742 *begin_y*lens_ipow(begin_dx, 2) + 0.00153604 *lens_ipow(begin_y, 2)*begin_dy + 1.48236e-05 *lens_ipow(begin_y, 3) + 0.0180426 *begin_x*begin_dx*begin_dy + 0.00105802 *begin_x*begin_y*begin_dx + 0.000468916 *lens_ipow(begin_x, 2)*begin_dy + 1.49018e-05 *lens_ipow(begin_x, 2)*begin_y + -0.00360269 *begin_dy*lens_ipow(begin_lambda, 3) + -1.76718e-06 *lens_ipow(begin_x, 2)*lens_ipow(begin_dy, 2) + 2.81384e-09 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 3) + 1.76825e-10 *lens_ipow(begin_y, 5)*begin_dx + -0.690429 *lens_ipow(begin_dx, 6)*begin_dy + -0.000108811 *begin_y*lens_ipow(begin_lambda, 6) + 8.84617e-06 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 2)*lens_ipow(begin_dx, 2)*begin_dy + 5.59904e-07 *lens_ipow(begin_x, 4)*lens_ipow(begin_dx, 2)*begin_dy + 2.73014e-10 *lens_ipow(begin_x, 5)*begin_y*begin_dx + -1.14705e-06 *lens_ipow(begin_x, 2)*begin_y*lens_ipow(begin_lambda, 5) + -18.4303 *lens_ipow(begin_dy, 9) + -90.88 *lens_ipow(begin_dx, 2)*lens_ipow(begin_dy, 7) + -80.068 *lens_ipow(begin_dx, 6)*lens_ipow(begin_dy, 3) + 0.0215553 *begin_y*lens_ipow(begin_dx, 2)*lens_ipow(begin_dy, 2)*lens_ipow(begin_lambda, 4) + -3.21723e-07 *lens_ipow(begin_y, 5)*lens_ipow(begin_dy, 4) + 4.57222e-07 *lens_ipow(begin_y, 5)*lens_ipow(begin_dx, 4) + 3.94534e-08 *begin_x*lens_ipow(begin_y, 5)*begin_dx*lens_ipow(begin_dy, 2) + 0.0138803 *lens_ipow(begin_x, 2)*lens_ipow(begin_dy, 7) + 1.65517e-13 *lens_ipow(begin_x, 6)*lens_ipow(begin_y, 3)*begin_lambda + 2.50658e-13 *lens_ipow(begin_y, 9)*lens_ipow(begin_dx, 2) + 9.19035e-17 *lens_ipow(begin_y, 11) + 6.41497e-16 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 9) + 1.37893e-09 *lens_ipow(begin_x, 4)*lens_ipow(begin_y, 3)*lens_ipow(begin_dy, 4);
  float dx1_domega0[2][2];
  dx1_domega0[0][0] =  + 38.4416  + -5.8981e-05 *begin_x + 1.35813 *lens_ipow(begin_dy, 2) + 3.85993 *lens_ipow(begin_dx, 2) + 0.563583 *begin_y*begin_dy + 0.0113888 *lens_ipow(begin_y, 2) + 1.43835 *begin_x*begin_dx + 0.0281401 *lens_ipow(begin_x, 2) + 0.275952 *lens_ipow(begin_lambda, 3) + 0.000594231 *lens_ipow(begin_x, 2)*lens_ipow(begin_lambda, 2) + 0.0100877 *lens_ipow(begin_x, 2)*lens_ipow(begin_dx, 2) + 0.000244764 *begin_x*lens_ipow(begin_y, 2)*begin_dx*begin_lambda + 2.57239e-09 *lens_ipow(begin_y, 6) + -0.00695932 *lens_ipow(begin_x, 2)*begin_y*lens_ipow(begin_dx, 2)*begin_dy + -0.101249 *begin_x*begin_dx*lens_ipow(begin_dy, 2)*lens_ipow(begin_lambda, 3) + -221.036 *lens_ipow(begin_dy, 8) + -8862.96 *lens_ipow(begin_dx, 4)*lens_ipow(begin_dy, 4) + -1.46492e-05 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 3)*lens_ipow(begin_dy, 3) + -1.57966 *lens_ipow(begin_lambda, 10) + -3484.6 *lens_ipow(begin_dx, 8)*lens_ipow(begin_lambda, 2) + -46286.2 *lens_ipow(begin_dx, 8)*lens_ipow(begin_dy, 2)+0.0f;
  dx1_domega0[0][1] =  + 4.75406e-05 *begin_x + 2.71626 *begin_dx*begin_dy + 0.563583 *begin_y*begin_dx + 0.27422 *begin_x*begin_dy + 0.015894 *begin_x*begin_y + 0.000681354 *begin_x*begin_y*begin_lambda + -9.04442e-05 *lens_ipow(begin_x, 2)*begin_dy + 7.61974e-06 *lens_ipow(begin_x, 3)*begin_y + 0.000486429 *lens_ipow(begin_x, 3)*begin_dy*begin_lambda + 6.26977e-05 *begin_x*lens_ipow(begin_y, 3)*lens_ipow(begin_dy, 2) + -0.00231977 *lens_ipow(begin_x, 2)*begin_y*lens_ipow(begin_dx, 3) + 0.177527 *begin_x*lens_ipow(begin_dy, 3)*lens_ipow(begin_lambda, 3) + -0.101249 *begin_x*lens_ipow(begin_dx, 2)*begin_dy*lens_ipow(begin_lambda, 3) + -1768.29 *begin_dx*lens_ipow(begin_dy, 7) + -7090.37 *lens_ipow(begin_dx, 5)*lens_ipow(begin_dy, 3) + -4.39475e-05 *lens_ipow(begin_x, 2)*lens_ipow(begin_y, 3)*begin_dx*lens_ipow(begin_dy, 2) + 0.059238 *lens_ipow(begin_x, 3)*lens_ipow(begin_dy, 5) + -10285.8 *lens_ipow(begin_dx, 9)*begin_dy+0.0f;
  dx1_domega0[1][0] =  + 2.44934e-05  + 0.00699888 *begin_dy + -0.123479 *begin_dx*begin_dy + 0.201179 *begin_y*begin_dx + 0.479762 *begin_x*begin_dy + 0.0144367 *begin_x*begin_y + -0.00250405 *begin_x*begin_y*lens_ipow(begin_lambda, 2) + -280.826 *lens_ipow(begin_dx, 5)*begin_dy + 0.000231869 *begin_x*lens_ipow(begin_y, 3)*lens_ipow(begin_dy, 2) + 3.82629e-06 *lens_ipow(begin_y, 5)*begin_dx*begin_lambda + -682.617 *begin_dx*lens_ipow(begin_dy, 5)*lens_ipow(begin_lambda, 2) + -0.257735 *begin_x*lens_ipow(begin_y, 2)*lens_ipow(begin_dx, 4)*begin_dy + -161525 *lens_ipow(begin_dx, 5)*lens_ipow(begin_dy, 5) + -0.990908 *begin_y*begin_dx*lens_ipow(begin_lambda, 8) + 0.00065439 *lens_ipow(begin_y, 5)*lens_ipow(begin_dx, 5) + 0.163349 *begin_x*lens_ipow(begin_y, 2)*lens_ipow(begin_dy, 7)+0.0f;
  dx1_domega0[1][1] =  + 38.544  + 0.00699888 *begin_dx + 0.243615 *lens_ipow(begin_lambda, 2) + -10.681 *lens_ipow(begin_dy, 2) + -0.0617397 *lens_ipow(begin_dx, 2) + 0.479762 *begin_x*begin_dx + 0.00972712 *lens_ipow(begin_x, 2) + 0.0389313 *lens_ipow(begin_y, 2)*begin_lambda + 0.0129059 *begin_x*lens_ipow(begin_dy, 2) + 3.09061 *begin_y*begin_dy*lens_ipow(begin_lambda, 2) + 2.57694e-06 *lens_ipow(begin_x, 4) + 0.000997551 *lens_ipow(begin_x, 2)*begin_y*begin_dy*begin_lambda + -46.8044 *lens_ipow(begin_dx, 6) + 0.000463738 *begin_x*lens_ipow(begin_y, 3)*begin_dx*begin_dy + -0.0808303 *lens_ipow(begin_x, 2)*lens_ipow(begin_dy, 4) + 81.6328 *lens_ipow(begin_dy, 4)*lens_ipow(begin_lambda, 3) + -2223.41 *lens_ipow(begin_dy, 8) + -1706.54 *lens_ipow(begin_dx, 2)*lens_ipow(begin_dy, 4)*lens_ipow(begin_lambda, 2) + 2.28884e-07 *lens_ipow(begin_y, 6)*lens_ipow(begin_dy, 2) + -0.051547 *begin_x*lens_ipow(begin_y, 2)*lens_ipow(begin_dx, 5) + -7.5019 *lens_ipow(begin_lambda, 10) + 390.672 *lens_ipow(begin_dy, 2)*lens_ipow(begin_lambda, 8) + -134604 *lens_ipow(begin_dx, 6)*lens_ipow(begin_dy, 4) + 1.14344 *begin_x*lens_ipow(begin_y, 2)*begin_dx*lens_ipow(begin_dy, 6) + 2.83178 *lens_ipow(begin_x, 2)*lens_ipow(begin_dy, 4)*lens_ipow(begin_lambda, 4)+0.0f;
  float invJ[2][2];
  const float invdet = 1.0f/(dx1_domega0[0][0]*dx1_domega0[1][1] - dx1_domega0[0][1]*dx1_domega0[1][0]);
  invJ[0][0] =  dx1_domega0[1][1]*invdet;
  invJ[1][1] =  dx1_domega0[0][0]*invdet;
  invJ[0][1] = -dx1_domega0[0][1]*invdet;
  invJ[1][0] = -dx1_domega0[1][0]*invdet;
  const float dx1[2] = {out_x - pred_x, out_y - pred_y};
  for(int i=0;i<2;i++)
  {
    dx += invJ[0][i]*dx1[i];
    dy += invJ[1][i]*dx1[i];
  }
  sqr_err = dx1[0]*dx1[0] + dx1[1]*dx1[1];
}
out_dx = pred_dx;
out_dy = pred_dy;
